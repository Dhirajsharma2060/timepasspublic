# render.yaml
services:
  - type: web
    name: my-fastapi-app
    env: python
    buildCommand: |
      # Install CMake
      apt-get update
      apt-get install -y cmake

      # Install the dlib wheel first
      pip install ./package/dlib-19.24.1-cp311-cp311-win_amd64.whl

      # Install Python dependencies
      pip install --no-cache-dir -r requirements.txt
    startCommand: "uvicorn main:app --host 0.0.0.0 --port 8000"
    plan: free
    instances: 1
